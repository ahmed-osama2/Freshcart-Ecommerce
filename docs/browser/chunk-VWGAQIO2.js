import{a as y,b as p,c as q,d as N,h as P,i as L,j as A,k as M,m as V}from"./chunk-2FGS56GA.js";import{a as b}from"./chunk-WW2XYFWP.js";import{v as T}from"./chunk-QXTYYPBS.js";import{Ab as c,Ib as l,Jb as w,Qb as R,Ra as m,aa as E,da as v,gb as d,ib as S,mb as s,qb as i,rb as t,sb as g,zb as F}from"./chunk-RGB7EHB6.js";function D(e,n){e&1&&(i(0,"p",17),l(1,"name required"),t())}function G(e,n){e&1&&(i(0,"p",17),l(1,"Name Should be more than or equal 3 chars"),t())}function B(e,n){e&1&&(i(0,"p",17),l(1,"Name Should be less than or equal 20 chars"),t())}function k(e,n){if(e&1&&(i(0,"div",6),d(1,D,2,0,"p",17)(2,G,2,0)(3,B,2,0),t()),e&2){let r,o=c();m(),s(1,(r=o.rigesterForm.get("name"))!=null&&r.getError("required")?1:(r=o.rigesterForm.get("name"))!=null&&r.getError("minlength")?2:(r=o.rigesterForm.get("name"))!=null&&r.getError("maxlength")?3:-1)}}function $(e,n){e&1&&(i(0,"p",17),l(1,"email required"),t())}function j(e,n){e&1&&(i(0,"p",17),l(1,"Enter Valid Email"),t())}function I(e,n){if(e&1&&(i(0,"div",6),d(1,$,2,0,"p",17)(2,j,2,0),t()),e&2){let r,o=c();m(),s(1,(r=o.rigesterForm.get("email"))!=null&&r.getError("required")?1:(r=o.rigesterForm.get("email"))!=null&&r.getError("email")?2:-1)}}function z(e,n){e&1&&(i(0,"p",17),l(1,"phone required"),t())}function H(e,n){e&1&&(i(0,"p",17),l(1,"Enter Valid Egyption phone"),t())}function J(e,n){if(e&1&&(i(0,"div",6),d(1,z,2,0,"p",17)(2,H,2,0),t()),e&2){let r,o=c();m(),s(1,(r=o.rigesterForm.get("phone"))!=null&&r.getError("required")?1:(r=o.rigesterForm.get("phone"))!=null&&r.getError("pattern")?2:-1)}}function K(e,n){e&1&&(i(0,"p",17),l(1,"password required"),t())}function O(e,n){e&1&&(i(0,"p",17),l(1,"Enter Valid password"),t())}function Q(e,n){if(e&1&&(i(0,"div",6),d(1,K,2,0,"p",17)(2,O,2,0),t()),e&2){let r,o=c();m(),s(1,(r=o.rigesterForm.get("password"))!=null&&r.getError("required")?1:(r=o.rigesterForm.get("password"))!=null&&r.getError("pattern")?2:-1)}}function U(e,n){e&1&&(i(0,"p",6),l(1,"Password confirmation is incorrect"),t())}function W(e,n){e&1&&(i(0,"span"),g(1,"i",18),t())}function X(e,n){if(e&1&&(i(0,"p",6),l(1),t()),e&2){let r=c();m(),w(r.msgError)}}function Y(e,n){e&1&&(i(0,"h2",16),l(1,"success"),t())}var le=(()=>{let n=class n{constructor(){this._AuthService=E(b),this._FormBuilder=E(M),this._Router=E(T),this.msgError="",this.isLoding=!1,this.myMassage=!1,this.rigesterForm=this._FormBuilder.group({name:[null,[p.required,p.minLength(3),p.maxLength(20)]],email:[null,[p.required,p.email]],password:[null,[p.required,p.pattern(/^\w{6,}$/gm)]],rePassword:[null],phone:[null,[p.required,p.pattern(/^01[0125][0-9]{8}$/gm)]]},{validators:this.confirmpassword})}registerSubmint(){this.rigesterForm.valid?(this.isLoding=!0,this._AuthService.setRegisterForm(this.rigesterForm.value).subscribe({next:o=>{o.message=="success"&&(this.myMassage=!0,setTimeout(()=>{this._Router.navigate(["/login"])},2e3)),this.isLoding=!1},error:o=>{this.msgError=o.error.message,this.isLoding=!1}})):(this.rigesterForm.setErrors({mismatch:!0}),this.rigesterForm.markAllAsTouched())}confirmpassword(o){return o.get("password")?.value===o.get("rePassword")?.value?null:{mismatch:!0}}};n.\u0275fac=function(_){return new(_||n)},n.\u0275cmp=v({type:n,selectors:[["app-register"]],standalone:!0,features:[R],decls:34,vars:9,consts:[[1,"bg-main-light","shadow","p-2","my-4","rounded-4"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["formControlName","name","id","name","type","text",1,"form-control"],[1,"alert","alert-danger","w-75","m-0"],["for","email"],["formControlName","email","id","email","type","email",1,"form-control"],["for","phone"],["formControlName","phone","id","phone","type","tel",1,"form-control"],["for","passwerd"],["formControlName","password","id","passwerd","type","password",1,"form-control"],["for","rePassword"],["formControlName","rePassword","id","rePassword","type","password",1,"form-control"],[1,"btn-main","ms-auto","d-block"],[1,"alert","alert-success","w-100","text-center"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(_,a){if(_&1&&(i(0,"section",0)(1,"h1",1),l(2,"Register Now:"),t(),i(3,"form",2),F("ngSubmit",function(){return a.registerSubmint()}),i(4,"div",3)(5,"label",4),l(6,"name :"),t(),g(7,"input",5),d(8,k,4,1,"div",6),t(),i(9,"div",3)(10,"label",7),l(11,"email :"),t(),g(12,"input",8),d(13,I,3,1,"div",6),t(),i(14,"div",3)(15,"label",9),l(16,"phone :"),t(),g(17,"input",10),d(18,J,3,1,"div",6),t(),i(19,"div",3)(20,"label",11),l(21,"passwerd :"),t(),g(22,"input",12),d(23,Q,3,1,"div",6),t(),i(24,"div",3)(25,"label",13),l(26,"rePassword :"),t(),g(27,"input",14),d(28,U,2,0,"p",6),t(),i(29,"button",15),l(30,"Register "),d(31,W,2,0,"span"),t(),d(32,X,2,1,"p",6)(33,Y,2,0,"h2",16),t()()),_&2){let u,f,h,C,x;m(3),S("formGroup",a.rigesterForm),m(5),s(8,(u=a.rigesterForm.get("name"))!=null&&u.errors&&((u=a.rigesterForm.get("name"))!=null&&u.touched||(u=a.rigesterForm.get("name"))!=null&&u.dirty)?8:-1),m(5),s(13,(f=a.rigesterForm.get("email"))!=null&&f.errors&&((f=a.rigesterForm.get("email"))!=null&&f.touched)?13:-1),m(5),s(18,(h=a.rigesterForm.get("phone"))!=null&&h.errors&&((h=a.rigesterForm.get("phone"))!=null&&h.touched)?18:-1),m(5),s(23,(C=a.rigesterForm.get("password"))!=null&&C.errors&&((C=a.rigesterForm.get("password"))!=null&&C.touched)?23:-1),m(5),s(28,a.rigesterForm.getError("mismatch")&&((x=a.rigesterForm.get("rePassword"))!=null&&x.touched)?28:-1),m(3),s(31,a.isLoding?31:-1),m(),s(32,a.msgError?32:-1),m(),s(33,a.myMassage?33:-1)}},dependencies:[V,P,y,q,N,L,A]});let e=n;return e})();export{le as RegisterComponent};
